import{i as _,o as g,g as b,a as l,w as m,d as e,b as a,m as C,F as V,f as k,l as j,u as F,j as I,t as v,e as H,h as L,p as R,n as q,q as Y,s as W,x as G,y as J,z as K,H as O}from"./app.325e99e1.js";import{V as M,_ as X}from"./AuthenticatedLayout.f7389881.js";import{_ as Z}from"./PrimaryButton.74dacd53.js";import{_ as c,a as p,b as f}from"./TextInput.8c158649.js";import{w as ee,P as te}from"./index.b5984130.js";const se=k("Print QR Code"),oe=e("div",{id:"printMe"}," asdasdasdsa ",-1),le={__name:"PrintQr",setup(N){let n=_(!1);function h(u){n.value=!1}function w(){n.value=!0}function y(){this.$htmlToPaper("printMe")}return(u,i)=>(g(),b(V,null,[l(M,{modelValue:a(n),"onUpdate:modelValue":i[0]||(i[0]=d=>C(n)?n.value=d:n=d),onCancel:i[1]||(i[1]=d=>h())},{title:m(()=>[se]),default:m(()=>[e("button",{onClick:y,class:"mt-2 inline-flex items-center justify-center rounded-md border border-transparent bg-primary-blue px-4 py-2 text-sm font-medium text-white shadow-sm hover:opacity-75 focus:outline-none focus:ring-2 focus:opacity-75 focus:ring-offset-2 sm:w-auto"},"print"),oe]),_:1},8,["modelValue"]),e("button",{onClick:i[2]||(i[2]=d=>w()),type:"button",class:"mt-2 inline-flex items-center justify-center rounded-md border border-transparent bg-primary-blue px-4 py-2 text-sm font-medium text-white shadow-sm hover:opacity-75 focus:outline-none focus:ring-2 focus:opacity-75 focus:ring-offset-2 sm:w-auto"},"Print All Qr")],64))}},ae=e("h2",{class:"font-semibold text-xl text-white leading-tight"}," Clients ",-1),ne=e("p",{class:"mt-2 text-sm text-white"},"A list of all Barangay Consolacion Clients including their information.",-1),ie={class:"py-12"},de=["onSubmit"],re={class:"mt-4"},ue={class:"mt-4"},ce={class:"mt-4"},me={class:"mt-4"},pe={class:"mt-4"},fe={class:"mt-4"},_e={class:"mt-4"},he=e("option",{value:"1"},"Active",-1),ve=e("option",{value:"0"},"In-Active",-1),xe=[he,ve],ge={class:"flex items-center justify-end mt-4"},be={class:"flex justify-center"},we={class:"px-4 sm:px-6 lg:px-8"},ye={class:"sm:flex sm:items-center mt-4 w-full"},Ce={class:"mr-4"},Ve={class:"ml-auto flex"},ke={class:"-mx-4 mt-8 overflow-hidden shadow ring-1 ring-black ring-opacity-5 sm:-mx-6 md:mx-0 md:rounded-lg bg-white"},Me={class:"min-w-full divide-y divide-gray-300"},Se=e("thead",{class:"bg-primary-blue"},[e("tr",null,[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-white font-bold sm:pl-6"},"Name"),e("th",{scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-white font-bold lg:table-cell"},"Username"),e("th",{scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-white font-bold lg:table-cell"},"Status"),e("th",{scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 lg:table-cell"}),e("th",{scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[e("span",{class:"sr-only"},"Edit")])])],-1),Ue={class:"divide-y divide-gray-200 bg-white"},$e={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},ze=["href"],Ae={class:"hidden whitespace-nowrap px-3 py-4 text-sm text-gray-500 lg:table-cell"},Be={class:"hidden whitespace-nowrap px-3 py-4 text-sm text-gray-500 lg:table-cell"},je={class:"hidden whitespace-nowrap px-3 text-sm text-gray-500 lg:table-cell"},qe=["onClick"],Ne=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 013.75 9.375v-4.5zM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 01-1.125-1.125v-4.5zM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0113.5 9.375v-4.5z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 6.75h.75v.75h-.75v-.75zM6.75 16.5h.75v.75h-.75v-.75zM16.5 6.75h.75v.75h-.75v-.75zM13.5 13.5h.75v.75h-.75v-.75zM13.5 19.5h.75v.75h-.75v-.75zM19.5 13.5h.75v.75h-.75v-.75zM19.5 19.5h.75v.75h-.75v-.75zM16.5 16.5h.75v.75h-.75v-.75z"})],-1),Pe=[Ne],Ee={class:"whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},De=["onClick"],Qe=["onClick"],Re={__name:"Client",props:{status:String},setup(N){const n=W(),h=G("$swal"),w=j(()=>n.state.clients.clients),y=j(()=>n.state.clients.pagination);let u=_(!1),i=_(!1),d=_(!1);const x=_(""),S=_("http://prime-water.test/dashboard");ee(x,()=>{A()},{debounce:500});const t=F({id:"",first_name:"",middle_name:"",last_name:"",username:"",contact_no:"",address:"",status:""});function U(r,s){r==="create"?(d.value=!1,t.id="",t.first_name="",t.middle_name="",t.last_name="",t.username="",t.contact_no="",t.address="",t.status=""):(d.value=!0,t.id=s.id,t.first_name=s.first_name,t.middle_name=s.middle_name,t.last_name=s.last_name,t.username=s.username,t.contact_no=s.contact_no,t.address=s.address,t.status=s.status),u.value=!0}function P(r){i.value=!0,S.value=r}function $(r){u.value=!1,i.value=!1}function z(){u.value=!1,n.dispatch("clients/getClients"),h.fire({icon:"success",title:d.value?"Client Updated!":"Client Saved!",text:d.value?"":'The user password is default "PW-Client"',confirmButtonColor:"#23408E"})}function E(){n.dispatch("clients/getClients"),h.fire({title:"Deleted!",text:"Client has been deleted.",icon:"success",confirmButtonColor:"#23408E"})}function D(r){h.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#23408E",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(s=>{s.isConfirmed&&J.Inertia.delete(route("client.delete",r),{onSuccess:()=>E()})})}function A(r){n.dispatch("clients/getClients",{params:{page:r,search:x.value}})}const Q=r=>{d.value?t.put(`/client/${t.id}`,{onSuccess:()=>z()}):t.post(route("client.create"),{onSuccess:()=>z()})};return I(()=>n.dispatch("clients/getClients")),(r,s)=>{const T=K("vue-qrcode");return g(),b(V,null,[l(a(O),{title:"Staff"}),l(X,null,{header:m(()=>[ae,ne]),default:m(()=>[e("div",ie,[e("div",null,[l(M,{modelValue:a(u),"onUpdate:modelValue":s[7]||(s[7]=o=>C(u)?u.value=o:u=o),onCancel:s[8]||(s[8]=o=>$())},{title:m(()=>[k(v(a(d)?"Update Client":"Create Client"),1)]),default:m(()=>[e("div",null,[e("form",{onSubmit:H(Q,["prevent"])},[e("div",re,[l(c,{for:"first_name",value:"First Name"}),l(p,{id:"first_name",type:"text",class:"mt-1 block w-full",modelValue:a(t).first_name,"onUpdate:modelValue":s[0]||(s[0]=o=>a(t).first_name=o),required:"",autofocus:"",autocomplete:"first_name"},null,8,["modelValue"]),l(f,{class:"mt-2",message:a(t).errors.first_name},null,8,["message"])]),e("div",ue,[l(c,{for:"middle_name",value:"Middle Name"}),l(p,{id:"middle_name",type:"text",class:"mt-1 block w-full",modelValue:a(t).middle_name,"onUpdate:modelValue":s[1]||(s[1]=o=>a(t).middle_name=o),autofocus:"",autocomplete:"middle_name"},null,8,["modelValue"]),l(f,{class:"mt-2",message:a(t).errors.middle_name},null,8,["message"])]),e("div",ce,[l(c,{for:"last_name",value:"Last Name"}),l(p,{id:"last_name",type:"text",class:"mt-1 block w-full",modelValue:a(t).last_name,"onUpdate:modelValue":s[2]||(s[2]=o=>a(t).last_name=o),required:"",autofocus:"",autocomplete:"last_name"},null,8,["modelValue"]),l(f,{class:"mt-2",message:a(t).errors.last_name},null,8,["message"])]),e("div",me,[l(c,{for:"contact_no",value:"Contact Number"}),l(p,{id:"contact_no",type:"text",class:"mt-1 block w-full",modelValue:a(t).contact_no,"onUpdate:modelValue":s[3]||(s[3]=o=>a(t).contact_no=o),required:"",autofocus:"",autocomplete:"contact_no"},null,8,["modelValue"]),l(f,{class:"mt-2",message:a(t).errors.contact_no},null,8,["message"])]),e("div",pe,[l(c,{for:"address",value:"Complete Address"}),l(p,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:a(t).address,"onUpdate:modelValue":s[4]||(s[4]=o=>a(t).address=o),required:"",autofocus:"",autocomplete:"address"},null,8,["modelValue"]),l(f,{class:"mt-2",message:a(t).errors.address},null,8,["message"])]),e("div",fe,[l(c,{for:"username",value:"Username"}),l(p,{id:"username",type:"text",class:"mt-1 block w-full",modelValue:a(t).username,"onUpdate:modelValue":s[5]||(s[5]=o=>a(t).username=o),required:"",autocomplete:"username"},null,8,["modelValue"]),l(f,{class:"mt-2",message:a(t).errors.username},null,8,["message"])]),e("div",_e,[l(c,{for:"status",value:"Status"}),L(e("select",{"onUpdate:modelValue":s[6]||(s[6]=o=>a(t).status=o),class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"},xe,512),[[R,a(t).status]]),l(f,{class:"mt-2",message:a(t).errors.status},null,8,["message"])]),e("div",ge,[l(Z,{class:q({"opacity-25":a(t).processing}),disabled:a(t).processing},{default:m(()=>[k(v(a(d)?"Update Client":"Save Client"),1)]),_:1},8,["class","disabled"])])],40,de)])]),_:1},8,["modelValue"])]),e("div",null,[l(M,{modelValue:a(i),"onUpdate:modelValue":s[9]||(s[9]=o=>C(i)?i.value=o:i=o),onCancel:s[10]||(s[10]=o=>$())},{default:m(()=>[e("div",be,[l(T,{value:S.value,options:{width:200}},null,8,["value"])])]),_:1},8,["modelValue"])]),e("div",we,[e("div",ye,[e("div",Ce,[l(c,{class:"font-bold",for:"search",value:"Search"}),l(p,{id:"search",type:"text",class:"mt-1 block w-full",modelValue:x.value,"onUpdate:modelValue":s[11]||(s[11]=o=>x.value=o)},null,8,["modelValue"])]),e("div",Ve,[l(le),e("button",{onClick:s[12]||(s[12]=o=>U("create",null)),type:"button",class:"ml-2 mt-2 inline-flex items-center justify-center rounded-md border border-transparent bg-primary-blue px-4 py-2 text-sm font-medium text-white shadow-sm hover:opacity-75 focus:outline-none focus:ring-2 focus:opacity-75 focus:ring-offset-2 sm:w-auto"},"Add Client")])]),e("div",ke,[e("table",Me,[Se,e("tbody",Ue,[(g(!0),b(V,null,Y(a(w).data,o=>(g(),b("tr",null,[e("td",$e,[e("a",{href:r.route("client.profile",o.id),class:"font-bold text-primary-blue hover:opacity-70 cursor-pointer"},v(o.first_name+" "+o.last_name),9,ze)]),e("td",Ae,v(o.username),1),e("td",Be,[e("span",{class:q(["text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full uppercase last:mr-0 mr-1",o.status===0?"text-red-600 bg-red-200":"text-green-600 bg-green-200"])},v(o.status===0?"In-Active":"Active"),3)]),e("td",je,[e("span",{onClick:B=>P(o.id),class:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full uppercase last:mr-0 mr-1 text-primary-blue hover:opacity-75 cursor-pointer"},Pe,8,qe)]),e("td",Ee,[e("a",{onClick:B=>D(o.id),href:"#",class:"text-red-400 hover:opacity-75 mr-2"},"Delete",8,De),e("a",{onClick:B=>U("update",o),href:"#",class:"text-primary-blue hover:opacity-75"},"Edit",8,Qe)])]))),256))])]),l(te,{class:"mt-6",pagination:a(y),onPaginate:A,offset:4},null,8,["pagination"])])])])]),_:1})],64)}}};export{Re as default};
